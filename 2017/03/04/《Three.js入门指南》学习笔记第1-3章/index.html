<!DOCTYPE html>
<html>

<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>《Three.js入门指南》总结（1~3章） | Zhyat Blog</title>
  <meta name="description" content="学而思之" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Noto+Serif:400,700,400italic|Open+Sans:700,400" />

  <meta name="generator" content="Zhyat Blog">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
  

  
</head>


<body class="post-template">

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="site-head" style="background-image: url(//blog.ghost.org/content/images/2013/Nov/cover.png)">
    <div class="vertical">
        <div class="site-head-content inner">
             <a class="blog-logo" href="/"><img src="//blog.ghost.org/content/images/2013/Nov/bloglogo_1-1.png" alt="Blog Logo"></a> 
            <h1 class="blog-title">Zhyat Blog</h1>
            <h2 class="blog-description">学而思之</h2>
        </div>
    </div>
</header>
  

<main class="content" role="main">
  <article class="post">
    <span class="post-meta">
      <time datetime="2017-03-03T16:00:00.000Z" itemprop="datePublished">
          2017-03-04
      </time>
    
    
    | 
    <a href="/tags/学习笔记/">学习笔记</a>
    
    
</span>
    <h1 class="post-title">《Three.js入门指南》总结（1~3章）</h1>
    <section class="post-content">
      <blockquote>
<p><a href="http://threejs.org/" target="_blank" rel="noopener">Three.js</a>是一个3D JavaScript库。</p>
</blockquote>
<blockquote>
<p>Three.js封装了底层的图形接口，使得程序员能够在无需掌握繁冗的图形学知识的情况下，也能用简单的代码实现三维场景的渲染。</p>
</blockquote>
<a id="more"></a>
<h2 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h2><h3 id="一-配置环境："><a href="#一-配置环境：" class="headerlink" title="一.配置环境："></a>一.配置环境：</h3><ol>
<li>在<a href="https://github.com/mrdoob/three.js/tree/master/build" target="_blank" rel="noopener">three.js</a>下载。其中three.js没有经过代码压缩，适合调试，three.js经过了代码压缩，文件较小，适合发布最终版的时候使用。</li>
<li>在使用three.js之前，需要在html中引用：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"three.js"</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="二-一个典型的Three-js程序至少要包括渲染器（Renderer）、场景（Scene）、照相机（Canmer）-以及你在场景中创建的物体"><a href="#二-一个典型的Three-js程序至少要包括渲染器（Renderer）、场景（Scene）、照相机（Canmer）-以及你在场景中创建的物体" class="headerlink" title="二.一个典型的Three.js程序至少要包括渲染器（Renderer）、场景（Scene）、照相机（Canmer）,以及你在场景中创建的物体"></a>二.一个典型的Three.js程序至少要包括渲染器（Renderer）、场景（Scene）、照相机（Canmer）,以及你在场景中创建的物体</h3><ol>
<li>将渲染器和Canvas绑定。</li>
<li>在程序最开始的时候将场景进行实例化</li>
<li>定义照相机，并将其添加进场景</li>
<li>创建物体，添加进场景</li>
<li>进行渲染</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// render</span></span><br><span class="line">  <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer(&#123;</span><br><span class="line">    canvas: <span class="built_in">document</span>.getElementById(<span class="string">'mainCanvas'</span>)</span><br><span class="line">  &#125;);</span><br><span class="line">  renderer.setClearColor(<span class="number">0x000000</span>);<span class="comment">//将背景色设为黑色，用于清除画面的颜色</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//scene</span></span><br><span class="line">  <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</span><br><span class="line"></span><br><span class="line">  <span class="comment">//camera</span></span><br><span class="line">  <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">45</span>, <span class="number">4</span> / <span class="number">3</span>, <span class="number">1</span>, <span class="number">1000</span>);</span><br><span class="line">  camera.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">  scene.add(camera);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// a cube in the scene</span></span><br><span class="line">  <span class="keyword">var</span> cube = <span class="keyword">new</span> THREE.Mesh(<span class="keyword">new</span> THREE.CubeGeometry(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>),</span><br><span class="line">    <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</span><br><span class="line">      color: <span class="number">0xff0000</span></span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">  scene.add(cube);</span><br><span class="line">  renderer.render(scene, camera);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="照相机"><a href="#照相机" class="headerlink" title="照相机"></a>照相机</h2><h3 id="一-什么是照相机"><a href="#一-什么是照相机" class="headerlink" title="一.什么是照相机"></a>一.什么是照相机</h3><p>在图形学中指定三维空间到二维屏幕的投影方式</p>
<p>针对投影方式的不同，照相机又分为正交投影照相机与透视投影照相机</p>
<h3 id="二-透视投影vs透视投影"><a href="#二-透视投影vs透视投影" class="headerlink" title="二.透视投影vs透视投影"></a>二.透视投影vs透视投影</h3><table>
<thead>
<tr>
<th></th>
<th>透视投影</th>
<th>正交投影</th>
</tr>
</thead>
<tbody>
<tr>
<td>特点</td>
<td>近大远下，接近人的观察效果</td>
<td>三维空间平行的线，三维空间也平行，投影不改变物体比例</td>
</tr>
<tr>
<td>适用场合</td>
<td>制图、建模软件等</td>
<td>其他大多数应用</td>
</tr>
<tr>
<td>构造函数</td>
<td>THREE.PerspectiveCamera(fov, aspect, near, far)</td>
<td>THREE.OrthographicCamera(left, right, top, bottom, near, far)</td>
</tr>
</tbody>
</table>
<p><em>根据应用特性来选择一个效果更佳的照相机</em></p>
<h3 id="三-正交投影相机"><a href="#三-正交投影相机" class="headerlink" title="三.正交投影相机"></a>三.正交投影相机</h3><p>为了保持照相机的横竖比例，需要保证(right - left)与(top - bottom)的比例与Canvas宽度与高度的比例一致。</p>
<p>ear与far都是指到照相机位置在深度平面的位置，而照相机不应该拍摄到其后方的物体，因此这两个值应该均为正值。为了保证场景中的物体不会因为太近或太远而被照相机忽略，一般near的值设置得较小，far的值设置得较大，具体值视场景中物体的位置等决定。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer(&#123;</span><br><span class="line">        canvas: <span class="built_in">document</span>.getElementById(<span class="string">'mainCanvas'</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    renderer.setClearColor(<span class="number">0x000000</span>);</span><br><span class="line">    <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// camera</span></span><br><span class="line">    <span class="comment">// canvas size is 400x300</span></span><br><span class="line">    <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.OrthographicCamera(<span class="number">-2</span>, <span class="number">2</span>, <span class="number">1.5</span>, <span class="number">-1.5</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">    camera.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">    <span class="comment">//camera.lookAt(new THREE.Vector3(0, 0, 0));</span></span><br><span class="line">    scene.add(camera);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// a cube in the scene</span></span><br><span class="line">    <span class="keyword">var</span> cube = <span class="keyword">new</span> THREE.Mesh(<span class="keyword">new</span> THREE.CubeGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">            <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</span><br><span class="line">                color: <span class="number">0xff0000</span>,</span><br><span class="line">                wireframe: <span class="literal">true</span></span><br><span class="line">            &#125;)</span><br><span class="line">    );</span><br><span class="line">    scene.add(cube);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// render</span></span><br><span class="line">    renderer.render(scene, camera);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="四-透视投影相机"><a href="#四-透视投影相机" class="headerlink" title="四.透视投影相机"></a>四.透视投影相机</h3><p>fov是视景体竖直方向上的张角（是角度制而非弧度制）。</p>
<p>aspect等于width / height，是照相机水平方向和竖直方向长度的比值，通常设为Canvas的横纵比例。</p>
<p>near和far分别是照相机到视景体最近、最远的距离，均为正值，且far应大于near</p>
<p>改变fov并不会引起画面横竖比例的变化，而改变aspect则会改变横竖比例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">init</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">var</span> renderer = <span class="keyword">new</span> THREE.WebGLRenderer(&#123;</span><br><span class="line">                    canvas: <span class="built_in">document</span>.getElementById(<span class="string">'mainCanvas'</span>)</span><br><span class="line">                &#125;);</span><br><span class="line">                renderer.setClearColor(<span class="number">0x000000</span>);</span><br><span class="line">                <span class="keyword">var</span> scene = <span class="keyword">new</span> THREE.Scene();</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// camera</span></span><br><span class="line">                <span class="comment">// canvas size is 400x300</span></span><br><span class="line">                <span class="keyword">var</span> camera = <span class="keyword">new</span> THREE.PerspectiveCamera(<span class="number">60</span>, <span class="number">400</span> / <span class="number">300</span>, <span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line">                camera.position.set(<span class="number">0</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">                scene.add(camera);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// a cube in the scene</span></span><br><span class="line">                <span class="keyword">var</span> cube = <span class="keyword">new</span> THREE.Mesh(<span class="keyword">new</span> THREE.CubeGeometry(<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line">                        <span class="keyword">new</span> THREE.MeshBasicMaterial(&#123;</span><br><span class="line">                            color: <span class="number">0xff0000</span>,</span><br><span class="line">                            wireframe: <span class="literal">true</span></span><br><span class="line">                        &#125;)</span><br><span class="line">                );</span><br><span class="line">                scene.add(cube);</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// render</span></span><br><span class="line">                renderer.render(scene, camera);</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="几何形状"><a href="#几何形状" class="headerlink" title="几何形状"></a>几何形状</h2><h3 id="一-基本几何形状"><a href="#一-基本几何形状" class="headerlink" title="一.基本几何形状"></a>一.基本几何形状</h3><table>
<thead>
<tr>
<th>几何体形状</th>
<th>构造函数</th>
<th>参数</th>
</tr>
</thead>
<tbody>
<tr>
<td>立方体</td>
<td>THREE.CubeGeometry(width, height, depth, widthSegments, heightSegments, depthSegments)</td>
<td>X方向上的长度；Y方向上的长度；Z方向的长度；X方向上的分段；Y方向上的分段；Z方向上的分段</td>
</tr>
<tr>
<td>平面</td>
<td>THREE.PlaneGeometry(width, height, widthSegments, heightSegments)</td>
<td>X方向上的长度；Y方向的长度；X方向上的分段；Y方向上的分段</td>
</tr>
<tr>
<td>球体</td>
<td>THREE.SphereGeometry(radius, segmentsWidth, segmentsHeight, phiStart, phiLength, thetaStart, thetaLength)</td>
<td>半径；经度上的切片数；纬度上的切片数；经度开始的弧度；经度跨过的弧度；纬度开始的弧度；纬度跨过的弧度</td>
</tr>
<tr>
<td>圆形</td>
<td>THREE.CircleGeometry(radius, segments, thetaStart, thetaLength)</td>
<td>半径；切片数；开始的弧度；跨过的弧度</td>
</tr>
<tr>
<td>圆柱体</td>
<td>THREE.CylinderGeometry(radiusTop, radiusBottom, height, radiusSegments, heightSegments, openEnded)</td>
<td>顶面半径；底面半径；半径分段；高度分段；是否没有顶面和底面</td>
</tr>
<tr>
<td>正四面体</td>
<td>THREE.TetrahedronGeometry(radius, detail)</td>
<td>半径；细节层次的层数</td>
</tr>
<tr>
<td>正八面体</td>
<td>THREE.OctahedronGeometry(radius, detail)</td>
<td>同上</td>
</tr>
<tr>
<td>正十二面体</td>
<td>THREE.IcosahedronGeometry(radius, detail)</td>
<td>同上</td>
</tr>
<tr>
<td>圆环面</td>
<td>THREE.TorusGeometry(radius, tube, radialSegments, tubularSegments, arc)</td>
<td>圆环半径；管道半径；分段；分段；圆环的弧度</td>
</tr>
<tr>
<td>圆环结</td>
<td>THREE.TorusKnotGeometry(radius, tube, radialSegments, tubularSegments, p, q, heightScale)</td>
<td>圆环半径；管道半径；分段；分段；圆环的弧度；样式参数；样式参数；z轴上的缩放</td>
</tr>
</tbody>
</table>
<h3 id="二-文字形状"><a href="#二-文字形状" class="headerlink" title="二.文字形状"></a>二.文字形状</h3><ol>
<li>下载使用在<a href="https://github.com/mrdoob/three.js/tree/master/examples/fonts" target="_blank" rel="noopener">github</a>下载xxx.json文件，放入目录下，用以下方法加载：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loader = <span class="keyword">new</span> THREE.FontLoader();</span><br><span class="line">loader.load(<span class="string">'../lib/xxx.json'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">font</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> mesh = <span class="keyword">new</span> THREE.Mesh(<span class="keyword">new</span> THREE.TextGeometry(<span class="string">'Hello'</span>, &#123;</span><br><span class="line">        font: font,</span><br><span class="line">        size: <span class="number">1</span>,</span><br><span class="line">        height: <span class="number">1</span></span><br><span class="line">    &#125;), material);</span><br><span class="line">    scene.add(mesh);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// render</span></span><br><span class="line">    renderer.render(scene, camera);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>参数介绍<br>构造函数为THREE.TextGeometry(text, parameters)；<br> text是文字字符串，parameters是以下参数组成的对象：</li>
</ol>
<ul>
<li>size：字号大小，一般为大写字母的高度</li>
<li>height：文字的厚度</li>
<li>curveSegments：弧线分段数，使得文字的曲线更加光滑</li>
<li>font：字体，默认是’helvetiker’，需对应引用的字体文件</li>
<li>weight：值为’normal’或’bold’，表示是否加粗</li>
<li>style：值为’normal’或’italics’，表示是否斜体</li>
<li>bevelEnabled：布尔值，是否使用倒角，意为在边缘处斜切</li>
<li>bevelThickness：倒角厚度</li>
<li>bevelSize：倒角宽度</li>
</ul>
<h3 id="自定义形状"><a href="#自定义形状" class="headerlink" title="自定义形状"></a>自定义形状</h3><ol>
<li>需手动指定每个顶点的位置，以及顶点连接情况。</li>
<li>自定义形状使用的是Geometry类，它是其他如CubeGeometry、SphereGeometry等几何形状的父类，其构造函数是：THREE.Geometry()</li>
<li></li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A[初始几何化形状]--&gt;B[设置顶点位置]</span><br><span class="line">B--&gt;C[设置顶点连接情况]</span><br></pre></td></tr></table></figure>
<hr>
<p><a href="http://www.ituring.com.cn/article/47975" target="_blank" rel="noopener">Three.js入门指南</a></p>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>zhyat</h4>
    <p>A designer, developer and entrepreneur. Spends his time travelling the world with a bag of kites. Likes journalism and publishing platforms.</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://blog.zhyat.cn/2017/03/04/《Three.js入门指南》学习笔记第1-3章/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.zhyat.cn/2017/03/04/《Three.js入门指南》学习笔记第1-3章/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://blog.zhyat.cn/2017/03/04/《Three.js入门指南》学习笔记第1-3章/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>
    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <a class="newer-posts" href="/2017/05/19/ThinkPHP5.0数据库/">
        ← ThinkPHP 5.0 数据库
    </a>
    
    <span class="page-number">•</span>
    
</nav>
  <div id="comment" class="comments-area">
    <h1 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h1>

    
</div>
</main>


  
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">Zhyat Blog</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="http://zespia.tw/hexo/">Hexo</a></section>
  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<script type="text/javascript" src="/js/jquery.fitvids.js"></script>
<script type="text/javascript" src="/js/index.js"></script><!-- hexo-inject:begin --><!-- hexo-inject:end -->






</body>
</html>
